{"version":3,"sources":["components/total/Total.js","components/history/HistoryItem.js","components/history/History.js","components/operation/Operation.js","App.js","index.js"],"names":["Total","totalIncome","totalExpenses","totalBalance","className","HistoryItem","transaction","deleteTransaction","add","description","moneyAmount","onClick","id","History","transactions","map","item","Operation","addTransaction","addDescription","addAmount","onChange","type","placeholder","value","App","state","JSON","parse","localStorage","getItem","push","Date","toString","setState","getTotalBalance","e","parseFloat","target","getExpenses","reduce","acc","filter","this","addToStorage","getIncome","console","log","setItem","stringify","Fragment","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3dac73d0.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Total = ({totalIncome, totalExpenses, totalBalance}) => (\r\n    <section className=\"total\">\r\n        <header className=\"total__header\">\r\n            <h3>Баланс</h3>\r\n            <p className=\"total__balance\">{totalBalance} ₽</p>\r\n        </header>\r\n        <div className=\"total__main\">\r\n            <div className=\"total__main-item total__income\">\r\n                <h4>Доходы</h4>\r\n                <p className=\"total__money total__money-income\">\r\n                    {totalIncome} ₽\r\n                </p>\r\n            </div>\r\n            <div className=\"total__main-item total__expenses\">\r\n                <h4>Расходы</h4>\r\n                <p className=\"total__money total__money-expenses\">\r\n                    {totalExpenses} ₽\r\n                </p>\r\n            </div>\r\n        </div>\r\n    </section>\r\n); //всё что в круглых скобках, возвращается (замена return). чтобы не писать в фигурных скобках\r\n\r\nexport default Total; //если export default, то имя функции при импорте может быть любым","import React from 'react';\r\n\r\nconst HistoryItem = ({transaction, deleteTransaction}) => (\r\n    <li className={`history__item ${transaction.add \r\n            ? 'history__item-plus' \r\n            : 'history__item-minus'}`\r\n        }\r\n        >{transaction.description}\r\n        <span className=\"history__money\">{transaction.moneyAmount} ₽</span>\r\n        <button \r\n            className=\"history__delete\" \r\n            onClick={() => deleteTransaction(transaction.id)}\r\n        >x</button>\r\n    </li>\r\n)\r\n\r\nexport default HistoryItem;","import React from 'react';\r\nimport HistoryItem from './HistoryItem';\r\n\r\nexport const History = ({transactions, deleteTransaction}) => {\r\n  return(\r\n    <section className=\"history\">\r\n        <h3>История расходов</h3>\r\n        <ul className=\"history__list\">\r\n            {transactions.map(item=> /*map возвращает массив*/\r\n              <HistoryItem \r\n                key={item.id}\r\n                transaction={item}\r\n                deleteTransaction={deleteTransaction}\r\n              />)}\r\n        </ul>\r\n    </section>\r\n  )\r\n}","import React from 'react';\r\n\r\nexport default function Operation({addTransaction, addDescription, addAmount, description, moneyAmount}) { //деструктуризировали props и получили сразу нужную функцию\r\n  return(\r\n      <section className=\"operation\">\r\n      <h3>Новая операция</h3>\r\n      <form id=\"form\">\r\n          <label>\r\n              <input \r\n                onChange={addDescription}\r\n                type=\"text\" \r\n                className=\"operation__fields operation__name\" \r\n                placeholder=\"Наименование операции\"\r\n                value={description}\r\n              />\r\n          </label>\r\n          <label>\r\n              <input onChange={addAmount} type=\"number\" className=\"operation__fields operation__amount\" value={moneyAmount} placeholder=\"Введите сумму\"/>\r\n          </label>\r\n          <div className=\"operation__btns\">\r\n              <button onClick={() => addTransaction(false)} \r\n                type=\"button\" \r\n                className=\"operation__btn operation__btn-subtract\"\r\n                >РАСХОД</button>\r\n              <button onClick={() => addTransaction(true)} \r\n              type=\"button\" \r\n              className=\"operation__btn operation__btn-add\"\r\n              >ДОХОД</button>\r\n          </div>\r\n      </form>\r\n  </section>\r\n  )\r\n}","import React, {Component} from 'react';\n//демонстрация возможностей импорта функций\nimport Total /*имя может быть любым, без фигурных скобок т.к export default*/ from './components/total/Total';\nimport {History} /*имя строго, фигурные скобки, т.к export default*/ from './components/history/History';\nimport Operations /*имя может быть любым, без фигурных скобок, т.к export default*/ from './components/operation/Operation';\n\nclass App extends Component { //классы позволяют хранить состояния\n\n  state = {\n    transactions: JSON.parse(localStorage.getItem(\"calcMoney\")) || [],\n    description: '',\n    moneyAmount: '',\n    totalIncome: 0, \n    totalExpenses: 0, \n    totalBalance: 0,\n  }\n\n  componentWillMount() { //componentWillMount вызывает функцию прямо перед началом рендеринга\n    this.getTotalBalance();\n  } \n\n  componentDidUpdate() {\n    this.addToStorage(); //каждый раз, когда обновляется компонент, транзакции добавляются в локальное хранилище\n  }\n\n  //этот метод мы передаем в Operation\n  addTransaction = add => {\n    const transactions = [...this.state.transactions]; //... - spread-оператор\n\n    transactions.push({ //пушим новую транзакцию\n      id: `cmr${(+new Date()).toString(16)}key`, //+ перед new Date нужен чтобы дата сразу переводилась в число. 16 переводит число в шестнадцатеричную систему\n      description: this.state.description,\n      moneyAmount: this.state.moneyAmount,\n      add\n    });\n\n    this.setState({ //почему везде пишется this? потому что эти функции и объекты находятся в одном классе (App)\n      transactions, \n      description: '', \n      moneyAmount: '',\n    }, this.getTotalBalance)\n  }\n\n  addAmount = e => { //это асинхронная функция\n    this.setState({moneyAmount: parseFloat(e.target.value)}) //превращение строки в число\n  }\n\n  addDescription = e => { //это асинхронная функция\n    this.setState({description: e.target.value}) \n  }\n\n\n  getIncome() {\n    return this.state.transactions\n    .filter(item => item.add)\n    .reduce((acc, item) => item.moneyAmount + acc, 0) \n    //reduce собирает данные, аккумулирует их. \n    //0 - значение аккумулятора по дефолту\n    //если filter возвращает массив, то reduce возвращает число\n  }\n\n   //другой вариант со стрелочной функции(return не нужен) и сокращением числа итераций(функциональность та же)\n  getExpenses = () => this.state.transactions\n  .reduce((acc, item) => !item.add ? item.moneyAmount + acc : acc, 0);\n\n  getTotalBalance() {\n    const totalIncome = this.getIncome();\n    const totalExpenses = this.getExpenses();\n    const totalBalance = totalIncome - totalExpenses;\n\n    this.setState({\n      totalIncome,\n      totalExpenses,\n      totalBalance,\n    }, () => console.log(this.state));\n  }\n\n\n  //Local Storage\n  addToStorage() {\n    localStorage.setItem(\"calcMoney\", JSON.stringify(this.state.transactions));\n  }\n\n  deleteTransaction = id => {\n    //фильтруются только те элементы, у которых ключи не совпадают с тем который мы собираемся удалить\n    const transactions = this.state.transactions.filter(item => item.id !== id);\n    this.setState({transactions}, this.getTotalBalance);\n  }\n\n  render() {\n    return (\n      /*эти треугольные скобки могут быть пустыми, т.к по умолчанию и так стоит React.Fragment*/\n      <React.Fragment> \n        <header>\n          <h1>Кошелек</h1>\n          <h2>Калькулятор расходов</h2>\n        </header>\n        <main>\n            <div className=\"container\">\n                <Total \n                  totalIncome = {this.state.totalIncome}\n                  totalExpenses = {this.state.totalExpenses}\n                  totalBalance = {this.state.totalBalance}\n                />\n                <History \n                  transactions = {this.state.transactions}\n                  deleteTransaction = {this.deleteTransaction}\n                />\n                <Operations \n                  addTransaction={this.addTransaction}\n                  addDescription={this.addDescription}\n                  addAmount={this.addAmount}\n                  description={this.state.description}\n                  moneyAmount={this.state.moneyAmount}\n                />\n            </div>\n        </main>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default App;\n","/*React - это фронт, после билда он превращается в обычный js файл*/\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './normalize.css';\nimport './style.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}