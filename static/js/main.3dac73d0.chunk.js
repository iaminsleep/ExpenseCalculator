(this["webpackJsonpcalc-money"]=this["webpackJsonpcalc-money"]||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);var a=n(1),s=n.n(a),c=n(3),o=n.n(c),i=n(6),r=n(4),l=n(5),d=n(8),u=n(7),m=n(0),j=function(t){var e=t.totalIncome,n=t.totalExpenses,a=t.totalBalance;return Object(m.jsxs)("section",{className:"total",children:[Object(m.jsxs)("header",{className:"total__header",children:[Object(m.jsx)("h3",{children:"\u0411\u0430\u043b\u0430\u043d\u0441"}),Object(m.jsxs)("p",{className:"total__balance",children:[a," \u20bd"]})]}),Object(m.jsxs)("div",{className:"total__main",children:[Object(m.jsxs)("div",{className:"total__main-item total__income",children:[Object(m.jsx)("h4",{children:"\u0414\u043e\u0445\u043e\u0434\u044b"}),Object(m.jsxs)("p",{className:"total__money total__money-income",children:[e," \u20bd"]})]}),Object(m.jsxs)("div",{className:"total__main-item total__expenses",children:[Object(m.jsx)("h4",{children:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b"}),Object(m.jsxs)("p",{className:"total__money total__money-expenses",children:[n," \u20bd"]})]})]})]})},h=function(t){var e=t.transaction,n=t.deleteTransaction;return Object(m.jsxs)("li",{className:"history__item ".concat(e.add?"history__item-plus":"history__item-minus"),children:[e.description,Object(m.jsxs)("span",{className:"history__money",children:[e.moneyAmount," \u20bd"]}),Object(m.jsx)("button",{className:"history__delete",onClick:function(){return n(e.id)},children:"x"})]})},b=function(t){var e=t.transactions,n=t.deleteTransaction;return Object(m.jsxs)("section",{className:"history",children:[Object(m.jsx)("h3",{children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432"}),Object(m.jsx)("ul",{className:"history__list",children:e.map((function(t){return Object(m.jsx)(h,{transaction:t,deleteTransaction:n},t.id)}))})]})};function p(t){var e=t.addTransaction,n=t.addDescription,a=t.addAmount,s=t.description,c=t.moneyAmount;return Object(m.jsxs)("section",{className:"operation",children:[Object(m.jsx)("h3",{children:"\u041d\u043e\u0432\u0430\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f"}),Object(m.jsxs)("form",{id:"form",children:[Object(m.jsx)("label",{children:Object(m.jsx)("input",{onChange:n,type:"text",className:"operation__fields operation__name",placeholder:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",value:s})}),Object(m.jsx)("label",{children:Object(m.jsx)("input",{onChange:a,type:"number",className:"operation__fields operation__amount",value:c,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443"})}),Object(m.jsxs)("div",{className:"operation__btns",children:[Object(m.jsx)("button",{onClick:function(){return e(!1)},type:"button",className:"operation__btn operation__btn-subtract",children:"\u0420\u0410\u0421\u0425\u041e\u0414"}),Object(m.jsx)("button",{onClick:function(){return e(!0)},type:"button",className:"operation__btn operation__btn-add",children:"\u0414\u041e\u0425\u041e\u0414"})]})]})]})}var _=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(t=e.call.apply(e,[this].concat(s))).state={transactions:JSON.parse(localStorage.getItem("calcMoney"))||[],description:"",moneyAmount:"",totalIncome:0,totalExpenses:0,totalBalance:0},t.addTransaction=function(e){var n=Object(i.a)(t.state.transactions);n.push({id:"cmr".concat((+new Date).toString(16),"key"),description:t.state.description,moneyAmount:t.state.moneyAmount,add:e}),t.setState({transactions:n,description:"",moneyAmount:""},t.getTotalBalance)},t.addAmount=function(e){t.setState({moneyAmount:parseFloat(e.target.value)})},t.addDescription=function(e){t.setState({description:e.target.value})},t.getExpenses=function(){return t.state.transactions.reduce((function(t,e){return e.add?t:e.moneyAmount+t}),0)},t.deleteTransaction=function(e){var n=t.state.transactions.filter((function(t){return t.id!==e}));t.setState({transactions:n},t.getTotalBalance)},t}return Object(l.a)(n,[{key:"componentWillMount",value:function(){this.getTotalBalance()}},{key:"componentDidUpdate",value:function(){this.addToStorage()}},{key:"getIncome",value:function(){return this.state.transactions.filter((function(t){return t.add})).reduce((function(t,e){return e.moneyAmount+t}),0)}},{key:"getTotalBalance",value:function(){var t=this,e=this.getIncome(),n=this.getExpenses(),a=e-n;this.setState({totalIncome:e,totalExpenses:n,totalBalance:a},(function(){return console.log(t.state)}))}},{key:"addToStorage",value:function(){localStorage.setItem("calcMoney",JSON.stringify(this.state.transactions))}},{key:"render",value:function(){return Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsxs)("header",{children:[Object(m.jsx)("h1",{children:"\u041a\u043e\u0448\u0435\u043b\u0435\u043a"}),Object(m.jsx)("h2",{children:"\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432"})]}),Object(m.jsx)("main",{children:Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)(j,{totalIncome:this.state.totalIncome,totalExpenses:this.state.totalExpenses,totalBalance:this.state.totalBalance}),Object(m.jsx)(b,{transactions:this.state.transactions,deleteTransaction:this.deleteTransaction}),Object(m.jsx)(p,{addTransaction:this.addTransaction,addDescription:this.addDescription,addAmount:this.addAmount,description:this.state.description,moneyAmount:this.state.moneyAmount})]})})]})}}]),n}(a.Component),x=_;n(14),n(15);o.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(x,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.3dac73d0.chunk.js.map